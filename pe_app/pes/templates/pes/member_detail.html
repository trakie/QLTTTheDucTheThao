{% extends 'pes/layout/base.html' %}

{% block content %}
<a href="{% url 'members' %}" class="btn btn-outline-secondary mt-4">
    <i class="fas fa-arrow-left"></i> Quay lại danh sách
</a>

<h1 class="text-center text-danger mt-2 mb-4">Chi tiết hội viên</h1>

<div class="row justify-content-center">
    <div class="col-md-8">
        {% if error_message %}
        <div class="alert alert-danger">{{ error_message }}</div>
        {% endif %}
        
        <div class="card">
            <div class="card-header bg-primary text-white">
                <h5 class="mb-0">Thông tin tài khoản</h5>
            </div>
            <div class="card-body">
                <form method="post">
                    {% csrf_token %}
                    
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label class="form-label fw-bold">Tên đăng nhập</label>
                            <input type="text" class="form-control" value="{{ member.username }}" readonly>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label fw-bold">Email</label>
                            <input type="email" class="form-control" value="{{ member.email }}" readonly>
                        </div>
                    </div>
                    
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="last_name" class="form-label fw-bold">Họ*</label>
                            <input type="text" class="form-control" id="last_name" 
                                   name="last_name" value="{{ member.last_name }}" required>
                        </div>
                        <div class="col-md-6">
                            <label for="first_name" class="form-label fw-bold">Tên*</label>
                            <input type="text" class="form-control" id="first_name" 
                                   name="first_name" value="{{ member.first_name }}" required>
                        </div>
                    </div>
                    
                    <div class="row mb-3">
                        <div class="col-md-6">
                            <label for="phone" class="form-label fw-bold">Số điện thoại</label>
                            <input type="tel" class="form-control" id="phone" 
                                   name="phone" value="{{ member.phone|default:'' }}">
                        </div>
                        <div class="col-md-6">
                            <label for="address" class="form-label fw-bold">Địa chỉ</label>
                            <input type="text" class="form-control" id="address" 
                                   name="address" value="{{ member.address|default:'' }}">
                        </div>
                    </div>
                    
                    <div class="d-grid mt-4">
                        <button type="submit" class="btn btn-success btn-lg">
                            <i class="fas fa-save"></i> Cập nhật thông tin
                        </button>
                    </div>
                </form>
            </div>
            <div class="card-footer text-muted">
                <small>Ngày đăng ký: {{ member.date_joined|date:"d/m/Y H:i" }}</small>
            </div>
        </div>
    </div>
</div>
{% endblock %}